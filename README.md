# Первое знакомство с Express

## Установка

Для работы проекта необходим node.js

Клонируйте проект на компьютер:

```
git clone https://github.com/kirpinev/backend-mesto.git
```

Установите зависимости:

```
npm install
```

Задайте параметры приложения:

В файле appconfig.js укажите путь к базе данных, секретный ключ и порт, на котором будет работать приложение.
По умолчанию используются параметры из переменных окружения. 

## Как использовать

Запуск сервера:

```
npm run start
```

Запуск сервера с "горячей" перезагрузкой:

```
npm run dev
```

## Результат выполнения проектной работы:

## Используемые поля и данные 

#### Поля пользователя
| Параметры | Описание | Тип | Условие |
| ------------- | ------------- | ------------- | ------------- |
| **name** | Имя пользователя, обязательный ввод | String | Длина: минимальная 2, максимальная 30 | 
| **about** | Информация о пользователе, обязательный ввод | String | Длина: минимальная 2, максимальная 30 | 
| **avatar** | Ссылка на аватарку, обязательный ввод | String | Должна быть вида http(s):// |
| **email** | Почта пользователя, обязательный ввод | String | Должна быть вида email@example.com | 
| **password** | Пароль пользователя, обязательный ввод | String | Длина: минимальная 8 |
| **_id** | Уникальный идентификатор пользователя, генерирутся автоматически | String |

#### Поля карточки
| Параметры | Описание | Тип | Условие |
| ------------- | ------------- | ------------- | ------------- |
| **name** | Имя карточки, обязательный ввод | String | Длина: минимальная 2, максимальная 30 |
| **link** | Ссылка на картинку, обязательный ввод | String | Должна быть вида http(s):// |
| **owner** | Cсылка на модель автора карточки, генерируется автоматически | ObjectId | 
| **likes** | Cписок лайкнувших карточку пользователей, пустой массив | Number | |
| **createdAt** | дата создания, генерируется автоматически | Date | |


## Виды запросов 

#### Регистрация пользователя

`POST /signup`

#### Авторизация пользователя

`POST /signin`

#### Получение списка всех пользователей

`GET /users`

#### Получение пользователя по id

`GET /users/{id}`

#### Удаление пользователя по id

`DELETE /users/{id}`

#### Обновление полей `имя` и `о себе` в профиле

`PATCH /users/me/{id}`

#### Обновление поля `аватар` в профиле

`PATCH /users/me/{id}/avatar`

#### Получение всех карточек

`GET /cards`

#### Создание карточки

`POST /cards`

#### Удаление карточки по id

`DELETE /cards/{id}`

#### Добавление лайка карточке по id

`PUT /cards/{id}/likes`

#### Удаление лайка с карточки по id

`DELETE /cards/{id}/likes`


## Сообщения об ошибках или успешности операции:

#### Некорректный запрос

`Запрашиваемый ресурс не найден`

#### Успешная регистрация пользователя

`Пользователь успешно создан`

#### Регистрация пользователя с некорректным вводом

`Произошла ошибка при создании пользователя`

#### Регистация пользователя с email, который уже используется

`Указанный почтовый ящик уже используется`

#### Получение пользователя по несуществующему id

`Нет пользователя с такими id`

#### Получение пользователя по неправильному id

`Неверный формат id пользователя`

#### Обновление `аватара` своего профиля с невалидной ссылкой

`Произошла ошибка при операции с пользователем`

#### Создание карточки c некорректным вводом `name` и `link`

`Произошла ошибка при операции с карточкой`

#### Удаление карточки по несуществующему id

`Нет карточки с таким id`

#### Удаление карточки по некорректному id

`Неверный формат id карточки`

#### Удаление чужой карточки по id

`Нужна авторизация`

#### Удаление чужой карточки по некорректному id

`Нужна авторизация`

#### Удаление лайка с карточки по несуществующему id

`Нет карточки с таким id`

#### Удаление лайка с карточки по некорректному id

`Неверный формат id карточки`
